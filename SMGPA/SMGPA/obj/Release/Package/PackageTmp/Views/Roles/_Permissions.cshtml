@model IEnumerable<SMGPA.Models.Permission>
@{
    Layout = null;
}

<div class="modal-header">
    <div id="alertsucess"class="alert alert-success" role="alert" hidden="hidden">Permiso Agregado</div>
    <div id="alertdelete" class="alert alert-danger" role="alert" hidden="hidden">Permiso Eliminado</div>
    <div id="alertproblem" class="alert alert-warning" role="alert" hidden="hidden">Problemas procesando solicitud</div>
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title" id="myModalLabel">Permisos de @ViewBag.Role</h4>
    <div>
       @using (Html.BeginForm())
       {
       <fieldset>
         @Html.DropDownList("Permisos", ViewData["Permisos"] as SelectList, "--Seleccionar Permiso ", new { @class = "traceable form-control", url = "/Roles/AddPermission/" })
        <a class="btn btn-default" id="sendPermission">Agregar</a>
       </fieldset>
       }
    </div>

</div>

<div class="modal-body" style="height: 300px; overflow: auto;">
        <table id="tablePermission" class="table table-bordered">
           @if (Model.Count()>0) {
           <thead>
            <tr>
                <th>
                    @Html.DisplayName("Nombre")
                </th>
                <th>
                    @Html.DisplayName("Controlador")
                </th>
                <th>
                    @Html.DisplayName("Acción")
                </th>
                <th></th>
            </tr>
            </thead>
           }
           else
           {
            <tr>
                <th>
                    @Html.DisplayName("Nombre")
                </th>
                <th>
                    @Html.DisplayName("Controlador")
                </th>
                <th>
                    @Html.DisplayName("Acción")
                </th>
                <th></th>
            </tr>
           }
            @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.TextLink)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Controller)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ActionResult)
                        </td>
                        <td>
                            <a id="deletePermission" url="/Roles/DeletePermission/" value="@item.idPermission">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </a>
                        </td>

                    </tr>
                }
        </table>

    </div>
<div class="modal-footer">
    <button class="btn" data-dismiss="modal">Cerrar</button>
</div>

